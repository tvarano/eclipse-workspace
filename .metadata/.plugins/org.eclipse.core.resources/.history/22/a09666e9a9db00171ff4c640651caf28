package december;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.URL;

import javax.swing.JEditorPane;
import javax.swing.JFrame;
import javax.swing.JScrollPane;

public class URLReader {
    public static void main(String[] args) throws Exception {

        URL oracle = new URL("https://sites.google.com/pascack.k12.nj.us/agenda/home");
        BufferedReader in = new BufferedReader(
        new InputStreamReader(oracle.openStream()));
        StringBuilder b = new StringBuilder();
        String inputLine;
        while ((inputLine = in.readLine()) != null) {
            System.out.println(inputLine);
            b.append(inputLine);
        }
        in.close();
        
        StringBuilder events = new StringBuilder();
        StringBuilder dates = new StringBuilder();
        
        String totalHtml = b.toString();
        int index = 0;
        int first = 0;
        boolean isFirst;
        do {
           isFirst = (index == 0);
           index = totalHtml.indexOf("ltr;\">", index);
           if (isFirst)
              first = index;
           String addition = (totalHtml.substring(index + "ltr;\">".length(), totalHtml.indexOf("</p>", index)));
           index += "ltr;\">".length()-1 + addition.length();
           events.append(addition);
           System.out.println(events.toString());
        } while(index < totalHtml.indexOf("TYPE html>", first) && index != -1);
        
        System.out.println("\n\n----------------------------------------");
        System.out.println(events.toString());
        
        
      // try {
      // createFrame(oracle);
      // } catch (IOException e) {
      // e.printStackTrace();
      // }

    }
    
    public static void createFrame(URL oracle) throws IOException {
       JFrame f = new JFrame("oi");
       //zfr3Q
       f.getContentPane().add(new JScrollPane(new JEditorPane(oracle)));
//       f.getContentPane().add(new JEditorPane("html","<iframe src=\"https://calendar.google.com/calendar/embed?showPrint=0&amp;showCalendars=0&amp;showTz=0&amp;mode=WEEK&amp;height=600&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=8368c5a91jog3s32oc6k22f4e8%40group.calendar.google.com&amp;color=%23691426&amp;ctz=America%2FNew_York\" style=\"border-width:0\" width=\"800\" height=\"600\" frameborder=\"0\" scrolling=\"no\"></iframe>"));
       f.pack();
       f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
       f.setVisible(true);
    }
}